<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>Multi Step Form</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" >
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>

<div id="app" class="container mt-5">
  <div class="row">
    <div class="col-md-8">
      <h1>Step:{{ stepNumber }}</h1>
    <form-name v-if="stepNumber === 1" @update="updateForm"></form-name>
    </div>

    <pre><code>{{ form }}</code></pre>
  </div>
</div>

<script>
  Vue.component('form-name',{
    template: `<form @input="submit">
          <h2>Name Info</h2>
          <div class="form-group">
          <label for="firstName">First Name</label>
          <input type="text" class="form-control" v-model="firstName" placeholder="Enter First Name">
          </div>					
          <div class="form-group">
          <label for="lastName">Last Name</label>
          <input type="text" class="form-control" v-model="lastName" placeholder="Enter Last Name">
          </div>
          </form>`,
    data: function(){
      return {
        firstName: null,
        lastName: null
      }
    },
    methods: {
      submit: function(){
        this.$emit('update',{
          firstName: this.firstName,
          lastName: this.lastName
        });
      }
    }
  });

	const app = new Vue({
		el: '#app',
		data: {
			stepNumber: 1,
			form: {
				firstName: null,
				lastName: null,
				Email: null,
				tel: null,
				birthday: null
			}
		},
    methods:{
      updateForm:function(formData){
        Object.assign(this.form, formData);
      },
    }
	});
</script>
</body>
</html>
